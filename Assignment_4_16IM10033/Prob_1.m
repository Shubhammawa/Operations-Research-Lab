clc;
clear all;

%-------------Decision variables------------%
% xij = 1   if product i is placed in container j
%       0   if it is not placed
% i = 1,2,...,10;   j = 1,2,3,4,5
% yi = 1 if container 1 is selected
%      0 if not selected
% i = 1,2,3,4,5
%--------------Objective function-----------%
% Maximize profit Z = 250(1.1x11 + 1.3x12 + 2x13 + x14 + 3x15) +
%                     270(2x21 + 2x22 + 1.5x23 + 3x24 + x25) +
%                     .........                     
%                     .........  
%                     220(2.5x51 + 3x52 + 2.5x53 + 2x54 + 2x55) - 
%                     700y1 - 1000y2 - 700y3 - 800y4 - 1200y5



%---------------Constraints-----------------%

% 250x11 + 270x21 + 150x31 + 300x41 + 320x51 + 180x61 + 400x71 + 450x81 + 500x91 + 220x101 <= 1000
% 250x12 + 270x22 + 150x32 + 300x42 + 320x52 + 180x62 + 400x72 + 450x82 + 500x92 + 220x102 <= 1200
% 250x13 + 270x23 + 150x33 + 300x43 + 320x53 + 180x63 + 400x73 + 450x83 + 500x93 + 220x103 <= 800
% 250x14 + 270x24 + 150x34 + 300x44 + 320x54 + 180x64 + 400x74 + 450x84 + 500x94 + 220x104 <= 1000
% 250x15 + 270x25 + 150x35 + 300x45 + 320x55 + 180x65 + 400x75 + 450x85 + 500x95 + 220x105 <= 1500

% 250x11 + 270x21 + 150x31 + 300x41 + 320x51 + 180x61 + 400x71 + 450x81 + 500x91 + 220x101 >= y1
% 250x12 + 270x22 + 150x32 + 300x42 + 320x52 + 180x62 + 400x72 + 450x82 + 500x92 + 220x102 >= y2
% 250x13 + 270x23 + 150x33 + 300x43 + 320x53 + 180x63 + 400x73 + 450x83 + 500x93 + 220x103 >= y3
% 250x14 + 270x24 + 150x34 + 300x44 + 320x54 + 180x64 + 400x74 + 450x84 + 500x94 + 220x104 >= y4
% 250x15 + 270x25 + 150x35 + 300x45 + 320x55 + 180x65 + 400x75 + 450x85 + 500x95 + 220x105 >= y5

% x11 + x12 + x13 + x14 + x15 <= 1
% x21 + x22 + x23 + x24 + x25 <= 1
% x31 + x32 + x33 + x34 + x35 <= 1
% x41 + x42 + x43 + x44 + x45 <= 1
% x51 + x52 + x53 + x54 + x55 <= 1
% x61 + x62 + x63 + x64 + x65 <= 1
% x71 + x72 + x73 + x74 + x75 <= 1
% x81 + x82 + x83 + x84 + x85 <= 1
% x91 + x92 + x93 + x94 + x95 <= 1
% x101 + x102 + x103 + x104 + x105 <= 1

c = -[250*1.1, 250*1.3, 250*2, 250, 750,
    540, 540, 270*1.5, 270*3, 270,
    450, 300, 150, 300, 225,
    300*3.5, 600, 300,600,900,
    320*1.5, 320*6, 320*1.5, 640, 1280,
    180, 540, 270, 360, 270,
    2400, 800, 400*7.5, 400, 1200,
    1350, 1800, 450*2.5, 450*1.5, 900,
    2500, 3000, 2250, 1500, 2000,
    220*2.5, 660, 220*2.5, 440, 440,
    -700, -1000, -700, -800, -1200];

intcon = [1:55];

A = [1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;
    0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;
    0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0;
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0;
    250,0,0,0,0,270,0,0,0,0,150,0,0,0,0,300,0,0,0,0,320,0,0,0,0,180,0,0,0,0,400,0,0,0,0,450,0,0,0,0,500,0,0,0,0,220,0,0,0,0,0,0,0,0,0;
    0,250,0,0,0,0,270,0,0,0,0,150,0,0,0,0,300,0,0,0,0,320,0,0,0,0,180,0,0,0,0,400,0,0,0,0,450,0,0,0,0,500,0,0,0,0,220,0,0,0,0,0,0,0,0;
    0,0,250,0,0,0,0,270,0,0,0,0,150,0,0,0,0,300,0,0,0,0,320,0,0,0,0,180,0,0,0,0,400,0,0,0,0,450,0,0,0,0,500,0,0,0,0,220,0,0,0,0,0,0,0;
    0,0,0,250,0,0,0,0,270,0,0,0,0,150,0,0,0,0,300,0,0,0,0,320,0,0,0,0,180,0,0,0,0,400,0,0,0,0,450,0,0,0,0,500,0,0,0,0,220,0,0,0,0,0,0;
    0,0,0,0,250,0,0,0,0,270,0,0,0,0,150,0,0,0,0,300,0,0,0,0,320,0,0,0,0,180,0,0,0,0,400,0,0,0,0,450,0,0,0,0,500,0,0,0,0,220,0,0,0,0,0;
    -250,0,0,0,0,-270,0,0,0,0,-150,0,0,0,0,-300,0,0,0,0,-320,0,0,0,0,-180,0,0,0,0,-400,0,0,0,0,-450,0,0,0,0,-500,0,0,0,0,-220,0,0,0,0,1,0,0,0,0;
    0,-250,0,0,0,0,-270,0,0,0,0,-150,0,0,0,0,-300,0,0,0,0,-320,0,0,0,0,-180,0,0,0,0,-400,0,0,0,0,-450,0,0,0,0,-500,0,0,0,0,-220,0,0,0,0,1,0,0,0;
    0,0,-250,0,0,0,0,-270,0,0,0,0,-150,0,0,0,0,-300,0,0,0,0,-320,0,0,0,0,-180,0,0,0,0,-400,0,0,0,0,-450,0,0,0,0,-500,0,0,0,0,-220,0,0,0,0,1,0,0;
    0,0,0,-250,0,0,0,0,-270,0,0,0,0,-150,0,0,0,0,-300,0,0,0,0,-320,0,0,0,0,-180,0,0,0,0,-400,0,0,0,0,-450,0,0,0,0,-500,0,0,0,0,-220,0,0,0,0,1,0;
    0,0,0,0,-250,0,0,0,0,-270,0,0,0,0,-150,0,0,0,0,-300,0,0,0,0,-320,0,0,0,0,-180,0,0,0,0,-400,0,0,0,0,-450,0,0,0,0,-500,0,0,0,0,-220,0,0,0,0,1];

b = [1;1;1;1;1;1;1;1;1;1;1000;1200;800;1000;1500;0;0;0;0;0];

lb = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
ub = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,];

[x, fval] = intlinprog(c,intcon,A,b,[],[],lb,ub);
fprintf('The maximum value of the profit is %d\n',-fval)